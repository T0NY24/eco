<div class="auth-container">
  <header class="auth-header">
    <h2>{{ isLoginMode ? 'Iniciar Sesi贸n' : 'Registro' }}</h2>
    <p class="auth-subtitle">
      {{ isLoginMode 
        ? 'Bienvenido de nuevo, inicia sesi贸n para continuar' 
        : 'Crea tu cuenta y 煤nete a la comunidad EcoIntercambio ' }}
    </p>
  </header>

  <!-- Loader / Skeleton -->
  <div *ngIf="loading" class="loader-container">
    <span class="loader"></span>
    <div class="skeleton-form">
      <div class="skeleton-line" *ngFor="let i of [1,2,3,4,5]"></div>
    </div>
  </div>

  <!-- Formulario -->
  <form *ngIf="!loading" (ngSubmit)="onSubmit()" novalidate>
    <div class="form-group">
      <label for="email"> Email</label>
      <input id="email" type="email" [(ngModel)]="email" name="email" placeholder="Introduce tu email" required>
    </div>

    <div class="form-group">
      <label for="password"> Contrase帽a</label>
      <input id="password" type="password" [(ngModel)]="password" name="password" placeholder="Introduce tu contrase帽a" required>
    </div>

    <div *ngIf="!isLoginMode">
      <div class="form-group">
        <label for="name"> Nombre Completo</label>
        <input id="name" type="text" [(ngModel)]="name" name="name" placeholder="Tu nombre completo" required>
      </div>

      <div class="form-group">
        <label for="age"> Edad</label>
        <input id="age" type="number" [(ngModel)]="age" name="age" placeholder="Tu edad" required>
      </div>

      <div class="form-group">
        <label for="occupation"> Ocupaci贸n</label>
        <input id="occupation" type="text" [(ngModel)]="occupation" name="occupation" placeholder="Tu ocupaci贸n" required>
      </div>
    </div>

    <button type="submit" class="btn-submit">
      {{ isLoginMode ? 'Iniciar Sesi贸n' : 'Registrarse' }}
    </button>

    <div class="error" *ngIf="errorMessage">
      {{ errorMessage }}
    </div>
  </form>

  <button class="toggle-button" (click)="toggleMode()">
    {{ isLoginMode ? '驴No tienes cuenta? Reg铆strate' : '驴Ya tienes cuenta? Inicia Sesi贸n' }}
  </button>
</div>
